# 云计算容器编排与应用部署实验报告要求

## 实验1：基础模式实现

### 实验目的
掌握容器化技术与Dockerfile编写方法、学习Kubernetes资源需求声明机制、理解声明式部署的核心概念与实践。

### 实验任务

#### 任务1：系统容器化改造
- 选择一个简单的Web应用（如Flask、Express等）或自行编写一个基础应用
- 分析应用依赖和运行环境需求
- 编写Dockerfile实现应用容器化

#### 任务2：基础Deployment和端口暴露的配置
- 创建Kubernetes Deployment配置文件
- 定义Pod模板和副本数量

#### 任务3：配置资源需求声明
- 在Deployment中添加CPU和Memory的requests配置
- 在Deployment中添加CPU和Memory的limits配置
- 理解资源请求与限制对Pod调度和运行的影响

### 实验要求
1. 实验环境：使用Docker和Kubernetes环境（推荐使用k3s）
2. 代码规范：Dockerfile和Kubernetes配置文件需符合最佳实践
3. 文档要求：
   - 详细记录容器化改造过程中的关键决策
   - 说明资源需求声明的配置理由
   - 记录部署验证过程和结果
4. 提交要求：通过GitHub PR提交实验成果，包含所有配置文件和验证截图
5. 思考问题：
   - 容器化改造过程中需要考虑哪些因素？
   - 资源需求声明对应用稳定性有何影响？
   - 声明式部署相比命令式部署有哪些优势？

---

## 实验2：生命周期与调度

### 实验目的
掌握Kubernetes健康检查机制的配置方法、学习容器生命周期管理与优雅终止技术、理解Kubernetes调度策略与实现方式。

### 实验任务

#### 任务1：配置健康检查探针
- 为应用配置Liveness探针（存活探针）
- 为应用配置Readiness探针（就绪探针）
- 设置合理的探针参数（initialDelaySeconds、periodSeconds等）

#### 任务2：实现优雅终止机制
- 配置PreStop钩子
- 设置terminationGracePeriodSeconds参数
- 验证优雅终止效果

#### 任务3：应用并比较不同调度策略
- 配置节点亲和性规则
- 配置Pod亲和性与反亲和性规则
- 观察不同调度策略对Pod部署的影响

### 实验要求
1. 实验环境：使用已搭建的Kubernetes集群（推荐使用k3s）
2. 操作规范：严格按照Kubernetes YAML语法配置各项功能
3. 文档要求：
   - 详细说明探针配置的依据和参数选择理由
   - 记录优雅终止过程的观察结果
   - 分析不同调度策略的适用场景
4. 提交要求：通过GitHub PR提交实验成果，包含配置文件和验证截图
5. 思考问题：
   - 不同类型探针（Liveness/Readiness/Startup）的应用场景有何区别？
   - 优雅终止对服务可用性有何影响？
   - 如何选择适合特定应用的调度策略？

---

## 实验3：高级服务模式

### 实验目的
掌握Kubernetes集群搭建与配置方法、学习无状态与有状态服务部署技术、理解服务发现机制与配置管理。

### 实验任务

#### 任务1：搭建Kubernetes容器集群
- 使用k3s搭建一个多节点Kubernetes集群
- 配置集群网络和存储
- 验证集群节点状态和组件运行情况

#### 任务2：实现无状态服务水平扩展与有状态服务部署
- 使用Deployment部署无状态服务
- 测试服务水平扩展功能
- 使用StatefulSet部署有状态服务
- 验证有状态服务的稳定网络标识和持久存储

#### 任务3：配置服务发现与DNS解析
- 创建不同类型的Service（ClusterIP、NodePort等）
- 验证Service的负载均衡功能
- 测试集群内部DNS解析功能

### 实验要求
1. 实验环境：使用k3s搭建Kubernetes集群
2. 集群配置：确保集群节点间网络连通，存储配置正确
3. 文档要求：
   - 详细记录集群搭建过程和配置要点
   - 对比无状态与有状态服务的部署差异
   - 分析服务发现机制的实现原理
4. 提交要求：通过GitHub PR提交实验成果，包含集群配置、服务定义文件和验证截图
5. 思考问题：
   - 无状态与有状态服务在架构设计上有何本质区别？
   - 服务发现机制如何提高系统可用性？
   - 节点亲和性规则如何影响服务部署？

---

## 实验4：公有云上Kubernetes集群实战

### 实验目的
掌握公有云平台上Kubernetes集群的创建与管理、学习云原生应用在生产环境中的部署方法、理解公有云与自建集群的差异与优势。

### 实验任务

#### 任务1：在华为云平台创建CCE Kubernetes集群
- 了解华为云CCE服务的基本概念和功能
- 配置集群参数（节点数量、规格、网络等）
- 创建并初始化Kubernetes集群

#### 任务2：完成基础操作任务
- 连接到CCE集群
- 部署示例应用到集群
- 配置应用访问方式

#### 任务3：部署小组项目到公有云环境
- 准备小组项目的容器镜像
- 创建项目所需的Kubernetes资源
- 验证项目在公有云环境中的功能

### 实验要求
1. 实验环境：华为云CCE服务
2. 安全规范：遵守公有云平台的安全最佳实践
3. 文档要求：
   - 详细记录CCE集群创建过程和配置选项
   - 说明小组项目部署的关键步骤和配置
   - 对比公有云与自建集群的使用体验
4. 提交要求：通过GitHub PR提交实验成果，包含配置文件和验证截图
5. 思考问题：
   - 公有云Kubernetes与自建集群在管理模式上有何区别？
   - 云原生应用在公有云环境中需要注意哪些安全因素？
   - 如何优化公有云环境中的应用性能与成本？

---

## 实验报告总体要求

1. **报告结构**：每个实验报告应包含实验目的、实验环境、实验步骤、实验结果、问题分析与思考等部分。
2. **内容要求**：报告内容需详细、准确，突出对Kubernetes基本原理的理解和应用。
3. **格式要求**：报告需使用Markdown格式编写，图文并茂，代码和配置需使用代码块。
4. **提交方式**：所有实验报告通过GitHub PR提交，最终打包通过学习通平台提交全部实验汇总版。
5. **学术规范**：严格遵守学术诚信，不得抄袭他人实验成果。